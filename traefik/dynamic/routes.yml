# Agentic SOC v5 â€” Traefik Dynamic Routes
http:
  routers:
    api:
      rule: "PathPrefix(`/api`)"
      service: soc-api
      entryPoints:
        - web

    dashboard:
      rule: "PathPrefix(`/`)"
      service: soc-dashboard
      entryPoints:
        - web

  services:
    soc-api:
      loadBalancer:
        servers:
          - url: "http://soc-api:8050"

    soc-dashboard:
      loadBalancer:
        servers:
          - url: "http://soc-dashboard:3000"

  middlewares:
    rate-limit:
      rateLimit:
        average: 100
        burst: 50
        period: 1m

    security-headers:
      headers:
        frameDeny: true
        contentTypeNosniff: true
        browserXssFilter: true
        referrerPolicy: "strict-origin-when-cross-origin"
        customResponseHeaders:
          X-Content-Type-Options: "nosniff"
          X-Frame-Options: "DENY"
          Strict-Transport-Security: "max-age=31536000; includeSubDomains"
